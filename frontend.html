<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranjeet Health Care - Advanced Patient Management System</title>
    
    <!-- Chart.js for graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #2c6baf;
            --secondary: #28a745;
            --accent: #ff6b6b;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --sidebar-width: 250px;
            --header-height: 70px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f7fa;
            color: var(--dark);
            transition: var(--transition);
            min-height: 100vh;
        }

        body.dark-mode {
            background-color: #1a1a2e;
            color: #e6e6e6;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            font-size: 2rem;
            color: white;
        }

        header h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }

        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .theme-toggle, .notification-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            transition: var(--transition);
        }

        .theme-toggle:hover, .notification-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Main Layout */
        .main-container {
            display: flex;
            min-height: calc(100vh - var(--header-height));
        }

        /* Sidebar Styles */
        .sidebar {
            width: var(--sidebar-width);
            background: white;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            z-index: 900;
        }

        body.dark-mode .sidebar {
            background: #16213e;
        }

        .sidebar-menu {
            list-style: none;
            padding: 1rem 0;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            text-decoration: none;
            color: var(--dark);
            transition: var(--transition);
            border-left: 4px solid transparent;
        }

        body.dark-mode .sidebar-menu a {
            color: #e6e6e6;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background: rgba(44, 107, 175, 0.1);
            border-left-color: var(--primary);
            color: var(--primary);
        }

        body.dark-mode .sidebar-menu a:hover,
        body.dark-mode .sidebar-menu a.active {
            background: rgba(44, 107, 175, 0.2);
        }

        .sidebar-menu i {
            margin-right: 15px;
            width: 20px;
            text-align: center;
        }

        /* Content Area */
        .content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            margin-bottom: 2rem;
            transition: var(--transition);
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        body.dark-mode .section {
            background: #16213e;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid var(--light-gray);
        }

        body.dark-mode .section-header {
            border-bottom-color: #30475e;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        /* Dashboard Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            transition: var(--transition);
        }

        body.dark-mode .stat-card {
            background: #1a1a2e;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            margin-right: 1rem;
            color: white;
        }

        .stat-icon.patients {
            background: linear-gradient(45deg, #4e73df, #224abe);
        }

        .stat-icon.ongoing {
            background: linear-gradient(45deg, #1cc88a, #13855c);
        }

        .stat-icon.treated {
            background: linear-gradient(45deg, #36b9cc, #258391);
        }

        .stat-icon.medication {
            background: linear-gradient(45deg, #f6c23e, #dda20a);
        }

        .stat-info h3 {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .stat-info p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        body.dark-mode .stat-info p {
            color: #b8b8b8;
        }

        /* Charts */
        .charts-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }

        body.dark-mode .chart-card {
            background: #1a1a2e;
        }

        /* Forms */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark);
        }

        body.dark-mode .form-group label {
            color: #e6e6e6;
        }

        .form-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }

        body.dark-mode .form-control {
            background: #1a1a2e;
            border-color: #30475e;
            color: #e6e6e6;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(44, 107, 175, 0.2);
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #235a9e;
            transform: translateY(-2px);
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        /* Tables */
        .table-responsive {
            overflow-x: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--light-gray);
        }

        body.dark-mode .data-table th,
        body.dark-mode .data-table td {
            border-bottom: 1px solid #30475e;
        }

        .data-table th {
            background: var(--light);
            font-weight: 600;
        }

        body.dark-mode .data-table th {
            background: #1a1a2e;
        }

        .data-table tr:hover {
            background: rgba(44, 107, 175, 0.05);
        }

        body.dark-mode .data-table tr:hover {
            background: rgba(44, 107, 175, 0.1);
        }

        .badge {
            padding: 0.3rem 0.6rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-success {
            background: rgba(40, 167, 69, 0.15);
            color: var(--success);
        }

        .badge-warning {
            background: rgba(255, 193, 7, 0.15);
            color: var(--warning);
        }

        .badge-danger {
            background: rgba(220, 53, 69, 0.15);
            color: var(--danger);
        }

        /* Footer */
        footer {
            background: white;
            padding: 1.5rem;
            text-align: center;
            color: var(--gray);
            margin-top: auto;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
        }

        body.dark-mode footer {
            background: #16213e;
            color: #b8b8b8;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
            }
            
            .menu-text {
                display: none;
            }
            
            .sidebar i {
                margin-right: 0;
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 1.4rem;
            }
            
            .user-name {
                display: none;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        /* Notification Panel */
        .notification-panel {
            position: fixed;
            top: var(--header-height);
            right: -300px;
            width: 300px;
            height: calc(100vh - var(--header-height));
            background: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            z-index: 999;
            padding: 1.5rem;
            overflow-y: auto;
        }

        body.dark-mode .notification-panel {
            background: #16213e;
        }

        .notification-panel.open {
            right: 0;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid var(--light-gray);
        }

        body.dark-mode .notification-header {
            border-bottom-color: #30475e;
        }

        .notification-item {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            background: var(--light);
            border-left: 4px solid var(--primary);
        }

        body.dark-mode .notification-item {
            background: #1a1a2e;
        }

        .notification-item.warning {
            border-left-color: var(--warning);
        }

        .notification-item.danger {
            border-left-color: var(--danger);
        }

        /* Modal */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: translateY(-50px);
            transition: var(--transition);
        }

        body.dark-mode .modal {
            background: #16213e;
        }

        .modal-backdrop.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        body.dark-mode .modal-header {
            border-bottom-color: #30475e;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--light-gray);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        body.dark-mode .modal-footer {
            border-top-color: #30475e;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--light-gray);
            margin-bottom: 1.5rem;
        }

        body.dark-mode .tabs {
            border-bottom-color: #30475e;
        }

        .tab {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }

        .tab.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
            font-weight: 500;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header>
        <div class="logo-container">
            <div class="logo">
                <i class="fas fa-hospital"></i>
            </div>
            <h1>Ranjeet Health Care</h1>
        </div>
        
        <div class="header-actions">
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="notification-btn" id="notificationBtn">
                <i class="fas fa-bell"></i>
                <span class="notification-count">3</span>
            </button>
            <div class="user-profile">
                <div class="user-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <span class="user-name">Dr. Ranjeet</span>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <ul class="sidebar-menu">
                <li><a href="#dashboard" class="active nav-link" data-section="dashboard"><i class="fas fa-home"></i> <span class="menu-text">Dashboard</span></a></li>
                <li><a href="#hospitalInfo" class="nav-link" data-section="hospitalInfo"><i class="fas fa-info-circle"></i> <span class="menu-text">Hospital Info</span></a></li>
                <li><a href="#addPatient" class="nav-link" data-section="addPatient"><i class="fas fa-user-plus"></i> <span class="menu-text">Add Patient</span></a></li>
                <li><a href="#ongoingPatients" class="nav-link" data-section="ongoingPatients"><i class="fas fa-procedures"></i> <span class="menu-text">Ongoing Patients</span></a></li>
                <li><a href="#treatedPatients" class="nav-link" data-section="treatedPatients"><i class="fas fa-user-check"></i> <span class="menu-text">Treated Patients</span></a></li>
                <li><a href="#healthMonitoring" class="nav-link" data-section="healthMonitoring"><i class="fas fa-heartbeat"></i> <span class="menu-text">Health Monitoring</span></a></li>
                <li><a href="#treatmentHistory" class="nav-link" data-section="treatmentHistory"><i class="fas fa-history"></i> <span class="menu-text">Treatment History</span></a></li>
                <li><a href="#medicationTracker" class="nav-link" data-section="medicationTracker"><i class="fas fa-pills"></i> <span class="menu-text">Medication Tracker</span></a></li>
            </ul>
        </aside>

        <!-- Content Area -->
        <main class="content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="section-header">
                    <h2 class="section-title">Patient Dashboard</h2>
                    <div class="date-filter">
                        <select class="form-control" id="dateFilter">
                            <option>Last 7 days</option>
                            <option>Last 30 days</option>
                            <option>Last 90 days</option>
                            <option>Custom Range</option>
                        </select>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon patients">
                            <i class="fas fa-user-injured"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalPatients">0</h3>
                            <p>Total Patients</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon ongoing">
                            <i class="fas fa-stethoscope"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="ongoingTreatments">0</h3>
                            <p>Ongoing Treatments</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon treated">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="treatedPatients">0</h3>
                            <p>Treated Patients</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon medication">
                            <i class="fas fa-pills"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="activeMedications">0</h3>
                            <p>Active Medications</p>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-container">
                    <div class="chart-card">
                        <h3>Health Metrics Overview</h3>
                        <canvas id="healthMetricsChart" height="300"></canvas>
                    </div>
                    
                    <div class="chart-card">
                        <h3>Patient Distribution</h3>
                        <canvas id="patientDistributionChart" height="300"></canvas>
                    </div>
                </div>

                <!-- Recent Activities -->
                <div class="section">
                    <div class="section-header">
                        <h2 class="section-title">Recent Activities</h2>
                        <button class="btn btn-primary btn-sm">View All</button>
                    </div>
                    
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Patient</th>
                                    <th>Activity</th>
                                    <th>Time</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="recentActivities">
                                <!-- Activities will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Hospital Information Section -->
            <section id="hospitalInfo" class="section">
                <div class="section-header">
                    <h2 class="section-title">Hospital Information</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label><i class="fas fa-hospital"></i> Hospital Name</label>
                        <p>Ranjeet Health Care</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-map-marker-alt"></i> Location</label>
                        <p>New Delhi, Nirman Vihar, Near by Shiv-Mandir</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-phone"></i> Contact</label>
                        <p>+91 9315058665</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-stethoscope"></i> Departments</label>
                        <p>Cardiology, Orthopedics, Neurology, Pediatrics, General Surgery</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-clock"></i> Operating Hours</label>
                        <p>Open 24x7</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-user-md"></i> Chief Doctor</label>
                        <p>Dr. Ranjeet</p>
                    </div>
                </div>
                
                <div class="section-header" style="margin-top: 2rem;">
                    <h2 class="section-title">Hospital Staff</h2>
                </div>
                
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Role</th>
                                <th>Contact</th>
                                <th>Shift</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Dr. Ranjeet</td>
                                <td>Chief Physician</td>
                                <td>+91 9315058665</td>
                                <td>9:00 AM - 6:00 PM</td>
                            </tr>
                            <tr>
                                <td>Dr. Priya Sharma</td>
                                <td>Cardiologist</td>
                                <td>+91 9876543210</td>
                                <td>10:00 AM - 7:00 PM</td>
                            </tr>
                            <tr>
                                <td>Dr. Amit Kumar</td>
                                <td>Orthopedic Surgeon</td>
                                <td>+91 8765432109</td>
                                <td>11:00 AM - 8:00 PM</td>
                            </tr>
                            <tr>
                                <td>Dr. Neha Gupta</td>
                                <td>Pediatrician</td>
                                <td>+91 7654321098</td>
                                <td>9:00 AM - 5:00 PM</td>
                            </tr>
                            <tr>
                                <td>Dr. Rajesh Singh</td>
                                <td>Neurologist</td>
                                <td>+91 6543210987</td>
                                <td>12:00 PM - 9:00 PM</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Add Patient Section -->
            <section id="addPatient" class="section">
                <div class="section-header">
                    <h2 class="section-title">Add New Patient</h2>
                </div>
                
                <form id="patientForm" class="form-grid">
                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input type="text" id="name" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="age">Age *</label>
                        <input type="number" id="age" class="form-control" required min="0" max="120">
                    </div>
                    
                    <div class="form-group">
                        <label for="gender">Gender *</label>
                        <select id="gender" class="form-control" required>
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="address">Address</label>
                        <textarea id="address" class="form-control" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="bloodGroup">Blood Group</label>
                        <select id="bloodGroup" class="form-control">
                            <option value="">Select Blood Group</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="emergencyContact">Emergency Contact</label>
                        <input type="text" id="emergencyContact" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="medicalHistory">Medical History</label>
                        <textarea id="medicalHistory" class="form-control" rows="3" placeholder="Previous illnesses, surgeries, etc."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="allergies">Allergies</label>
                        <textarea id="allergies" class="form-control" rows="2" placeholder="Known allergies"></textarea>
                    </div>
                    
                    <div class="form-group" style="grid-column: 1 / -1;">
                        <button type="submit" class="btn btn-primary">Add Patient</button>
                    </div>
                </form>
            </section>

            <!-- Ongoing Patients Section -->
            <section id="ongoingPatients" class="section">
                <div class="section-header">
                    <h2 class="section-title">Ongoing Patients</h2>
                    <div class="search-container">
                        <input type="text" class="form-control" placeholder="Search patients..." id="searchOngoing">
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Age</th>
                                <th>Gender</th>
                                <th>Condition</th>
                                <th>Admission Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ongoingPatientsList">
                            <!-- Patients will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Treated Patients Section -->
            <section id="treatedPatients" class="section">
                <div class="section-header">
                    <h2 class="section-title">Treated Patients</h2>
                    <div class="search-container">
                        <input type="text" class="form-control" placeholder="Search patients..." id="searchTreated">
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Age</th>
                                <th>Gender</th>
                                <th>Condition</th>
                                <th>Treatment</th>
                                <th>Discharge Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="treatedPatientsList">
                            <!-- Patients will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Health Monitoring Section -->
            <section id="healthMonitoring" class="section">
                <div class="section-header">
                    <h2 class="section-title">Health Monitoring</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="healthPatient">Select Patient *</label>
                        <select id="healthPatient" class="form-control" required>
                            <option value="">Select Patient</option>
                            <!-- Patients will be populated by JavaScript -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="healthDate">Date *</label>
                        <input type="date" id="healthDate" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="weight">Weight (kg)</label>
                        <input type="number" id="weight" class="form-control" step="0.1">
                    </div>
                    
                    <div class="form-group">
                        <label for="height">Height (cm)</label>
                        <input type="number" id="height" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="bloodPressure">Blood Pressure (mmHg)</label>
                        <input type="text" id="bloodPressure" class="form-control" placeholder="e.g. 120/80">
                    </div>
                    
                    <div class="form-group">
                        <label for="heartRate">Heart Rate (bpm)</label>
                        <input type="number" id="heartRate" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="temperature">Temperature (°F)</label>
                        <input type="number" id="temperature" class="form-control" step="0.1">
                    </div>
                    
                    <div class="form-group">
                        <label for="oxygenSaturation">Oxygen Saturation (%)</label>
                        <input type="number" id="oxygenSaturation" class="form-control" min="0" max="100">
                    </div>
                    
                    <div class="form-group">
                        <label for="glucose">Glucose Level (mg/dL)</label>
                        <input type="number" id="glucose" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">Notes</label>
                        <textarea id="notes" class="form-control" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group" style="grid-column: 1 / -1;">
                        <button type="button" id="addHealthData" class="btn btn-primary">Add Health Data</button>
                    </div>
                </div>
                
                <div class="section-header" style="margin-top: 2rem;">
                    <h2 class="section-title">Health Data History</h2>
                </div>
                
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Patient</th>
                                <th>BP</th>
                                <th>HR</th>
                                <th>Temp</th>
                                <th>O2</th>
                                <th>Glucose</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="healthDataList">
                            <!-- Health data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Treatment History Section -->
            <section id="treatmentHistory" class="section">
                <div class="section-header">
                    <h2 class="section-title">Treatment History</h2>
                    <div class="search-container">
                        <input type="text" class="form-control" placeholder="Search treatments..." id="searchTreatment">
                        <button class="btn btn-primary" style="margin-left: 10px;">Search</button>
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Patient</th>
                                <th>Treatment</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Doctor</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="treatmentHistoryList">
                            <!-- Treatment history will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Medication Tracker Section -->
            <section id="medicationTracker" class="section">
                <div class="section-header">
                    <h2 class="section-title">Medication Tracker</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="medPatient">Select Patient *</label>
                        <select id="medPatient" class="form-control" required>
                            <option value="">Select Patient</option>
                            <!-- Patients will be populated by JavaScript -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="medicationName">Medication Name *</label>
                        <input type="text" id="medicationName" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="dosage">Dosage *</label>
                        <input type="text" id="dosage" class="form-control" required placeholder="e.g. 5mg">
                    </div>
                    
                    <div class="form-group">
                        <label for="frequency">Frequency *</label>
                        <select id="frequency" class="form-control" required>
                            <option value="">Select Frequency</option>
                            <option value="once daily">Once Daily</option>
                            <option value="twice daily">Twice Daily</option>
                            <option value="three times daily">Three Times Daily</option>
                            <option value="four times daily">Four Times Daily</option>
                            <option value="as needed">As Needed</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="startDate">Start Date *</label>
                        <input type="date" id="startDate" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="endDate">End Date</label>
                        <input type="date" id="endDate" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="instructions">Instructions</label>
                        <textarea id="instructions" class="form-control" rows="2" placeholder="Take with food, etc."></textarea>
                    </div>
                    
                    <div class="form-group" style="grid-column: 1 / -1;">
                        <button type="button" id="addMedication" class="btn btn-primary">Add Medication</button>
                    </div>
                </div>
                
                <div class="section-header" style="margin-top: 2rem;">
                    <h2 class="section-title">Current Medications</h2>
                </div>
                
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Patient</th>
                                <th>Medication</th>
                                <th>Dosage</th>
                                <th>Frequency</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="medicationList">
                            <!-- Medications will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
        <div class="notification-header">
            <h3>Notifications</h3>
            <button class="close-btn" id="closeNotifications">&times;</button>
        </div>
        
        <div class="notification-item">
            <h4>New Lab Results</h4>
            <p>Patient: Rajesh Kumar</p>
            <small>10 minutes ago</small>
        </div>
        
        <div class="notification-item warning">
            <h4>Medication Low Stock</h4>
            <p>Amoxicillin is running low</p>
            <small>Yesterday</small>
        </div>
        
        <div class="notification-item danger">
            <h4>Appointment Reminder</h4>
            <p>Dr. Sharma has a surgery scheduled in 1 hour</p>
            <small>2 hours ago</small>
        </div>
    </div>

    <!-- Modal for Patient Details -->
    <div class="modal-backdrop" id="patientModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Patient Details</h3>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Patient details will be displayed here -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary">Edit</button>
                <button class="btn" style="background: var(--light-gray);">Close</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Ranjeet Health Care. All Rights Reserved. | <i class="fas fa-map-marker-alt"></i> New Delhi, Nirman Vihar, Near by Shiv-Mandir | <i class="fas fa-phone"></i> +91 9315058665</p>
    </footer>

    <script>
        // Data storage
        let patients = JSON.parse(localStorage.getItem('patients')) || [];
        let healthData = JSON.parse(localStorage.getItem('healthData')) || [];
        let medications = JSON.parse(localStorage.getItem('medications')) || [];
        let treatments = JSON.parse(localStorage.getItem('treatments')) || [];

        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const notificationBtn = document.getElementById('notificationBtn');
        const notificationPanel = document.getElementById('notificationPanel');
        const closeNotifications = document.getElementById('closeNotifications');
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.section');
        const patientModal = document.getElementById('patientModal');
        const closeModal = document.getElementById('closeModal');

        // Initialize the application
        function initApp() {
            // Set current date for date inputs
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('healthDate').value = today;
            document.getElementById('startDate').value = today;
            
            // Load data into UI
            updateDashboard();
            populatePatientDropdowns();
            renderOngoingPatients();
            renderTreatedPatients();
            renderHealthData();
            renderMedications();
            renderTreatmentHistory();
            
            // Initialize charts
            initCharts();
        }

        // Toggle Dark Mode
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem('theme', 'dark');
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem('theme', 'light');
            }
        });

        // Check for saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }

        // Toggle Notification Panel
        notificationBtn.addEventListener('click', () => {
            notificationPanel.classList.toggle('open');
        });

        closeNotifications.addEventListener('click', () => {
            notificationPanel.classList.remove('open');
        });

        // Navigation
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all links
                navLinks.forEach(item => {
                    item.classList.remove('active');
                });
                
                // Add active class to clicked link
                this.classList.add('active');
                
                // Hide all sections
                sections.forEach(section => {
                    section.classList.remove('active');
                });
                
                // Show the target section
                const targetSection = document.getElementById(this.dataset.section);
                if (targetSection) {
                    targetSection.classList.add('active');
                }
            });
        });

        // Close modal
        closeModal.addEventListener('click', () => {
            patientModal.classList.remove('active');
        });

        // Add Patient Form
        document.getElementById('patientForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newPatient = {
                id: Date.now().toString(),
                name: document.getElementById('name').value,
                age: document.getElementById('age').value,
                gender: document.getElementById('gender').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                address: document.getElementById('address').value,
                bloodGroup: document.getElementById('bloodGroup').value,
                emergencyContact: document.getElementById('emergencyContact').value,
                medicalHistory: document.getElementById('medicalHistory').value,
                allergies: document.getElementById('allergies').value,
                status: 'ongoing',
                admissionDate: new Date().toISOString()
            };
            
            patients.push(newPatient);
            saveData();
            this.reset();
            
            // Show success message
            alert('Patient added successfully!');
            
            // Update UI
            updateDashboard();
            populatePatientDropdowns();
            renderOngoingPatients();
        });

        // Add Health Data
        document.getElementById('addHealthData').addEventListener('click', function() {
            const patientId = document.getElementById('healthPatient').value;
            if (!patientId) {
                alert('Please select a patient');
                return;
            }
            
            const newHealthData = {
                id: Date.now().toString(),
                patientId: patientId,
                date: document.getElementById('healthDate').value,
                weight: document.getElementById('weight').value,
                height: document.getElementById('height').value,
                bloodPressure: document.getElementById('bloodPressure').value,
                heartRate: document.getElementById('heartRate').value,
                temperature: document.getElementById('temperature').value,
                oxygenSaturation: document.getElementById('oxygenSaturation').value,
                glucose: document.getElementById('glucose').value,
                notes: document.getElementById('notes').value
            };
            
            healthData.push(newHealthData);
            saveData();
            
            // Reset form
            document.getElementById('weight').value = '';
            document.getElementById('height').value = '';
            document.getElementById('bloodPressure').value = '';
            document.getElementById('heartRate').value = '';
            document.getElementById('temperature').value = '';
            document.getElementById('oxygenSaturation').value = '';
            document.getElementById('glucose').value = '';
            document.getElementById('notes').value = '';
            
            // Show success message
            alert('Health data added successfully!');
            
            // Update UI
            renderHealthData();
        });

        // Add Medication
        document.getElementById('addMedication').addEventListener('click', function() {
            const patientId = document.getElementById('medPatient').value;
            if (!patientId) {
                alert('Please select a patient');
                return;
            }
            
            const newMedication = {
                id: Date.now().toString(),
                patientId: patientId,
                medicationName: document.getElementById('medicationName').value,
                dosage: document.getElementById('dosage').value,
                frequency: document.getElementById('frequency').value,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                instructions: document.getElementById('instructions').value,
                status: 'active'
            };
            
            medications.push(newMedication);
            saveData();
            
            // Reset form
            document.getElementById('medicationName').value = '';
            document.getElementById('dosage').value = '';
            document.getElementById('frequency').value = '';
            document.getElementById('endDate').value = '';
            document.getElementById('instructions').value = '';
            
            // Show success message
            alert('Medication added successfully!');
            
            // Update UI
            updateDashboard();
            renderMedications();
        });

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('patients', JSON.stringify(patients));
            localStorage.setItem('healthData', JSON.stringify(healthData));
            localStorage.setItem('medications', JSON.stringify(medications));
            localStorage.setItem('treatments', JSON.stringify(treatments));
        }

        // Update dashboard statistics
        function updateDashboard() {
            document.getElementById('totalPatients').textContent = patients.length;
            document.getElementById('ongoingTreatments').textContent = patients.filter(p => p.status === 'ongoing').length;
            document.getElementById('treatedPatients').textContent = patients.filter(p => p.status === 'treated').length;
            document.getElementById('activeMedications').textContent = medications.filter(m => m.status === 'active').length;
            
            // Update recent activities
            renderRecentActivities();
        }

        // Populate patient dropdowns
        function populatePatientDropdowns() {
            const healthPatient = document.getElementById('healthPatient');
            const medPatient = document.getElementById('medPatient');
            
            // Clear existing options
            healthPatient.innerHTML = '<option value="">Select Patient</option>';
            medPatient.innerHTML = '<option value="">Select Patient</option>';
            
            // Add patients
            patients.forEach(patient => {
                if (patient.status === 'ongoing') {
                    const option = document.createElement('option');
                    option.value = patient.id;
                    option.textContent = `${patient.name} (${patient.age} years)`;
                    healthPatient.appendChild(option);
                    
                    const option2 = document.createElement('option');
                    option2.value = patient.id;
                    option2.textContent = `${patient.name} (${patient.age} years)`;
                    medPatient.appendChild(option2);
                }
            });
        }

        // Render ongoing patients
        function renderOngoingPatients() {
            const ongoingPatientsList = document.getElementById('ongoingPatientsList');
            ongoingPatientsList.innerHTML = '';
            
            const ongoingPatients = patients.filter(patient => patient.status === 'ongoing');
            
            if (ongoingPatients.length === 0) {
                ongoingPatientsList.innerHTML = '<tr><td colspan="7" style="text-align: center;">No ongoing patients</td></tr>';
                return;
            }
            
            ongoingPatients.forEach(patient => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${patient.name}</td>
                    <td>${patient.age}</td>
                    <td>${patient.gender}</td>
                    <td>${patient.condition || 'General'}</td>
                    <td>${formatDate(patient.admissionDate)}</td>
                    <td><span class="badge badge-warning">Ongoing</span></td>
                    <td>
                        <button class="btn btn-sm btn-primary" onclick="viewPatient('${patient.id}')">View</button>
                        <button class="btn btn-sm btn-success" onclick="markAsTreated('${patient.id}')">Mark Treated</button>
                    </td>
                `;
                ongoingPatientsList.appendChild(tr);
            });
        }

        // Render treated patients
        function renderTreatedPatients() {
            const treatedPatientsList = document.getElementById('treatedPatientsList');
            treatedPatientsList.innerHTML = '';
            
            const treatedPatients = patients.filter(patient => patient.status === 'treated');
            
            if (treatedPatients.length === 0) {
                treatedPatientsList.innerHTML = '<tr><td colspan="7" style="text-align: center;">No treated patients</td></tr>';
                return;
            }
            
            treatedPatients.forEach(patient => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${patient.name}</td>
                    <td>${patient.age}</td>
                    <td>${patient.gender}</td>
                    <td>${patient.condition || 'General'}</td>
                    <td>${patient.treatment || 'General Treatment'}</td>
                    <td>${formatDate(patient.dischargeDate)}</td>
                    <td>
                        <button class="btn btn-sm btn-primary" onclick="viewPatient('${patient.id}')">View</button>
                    </td>
                `;
                treatedPatientsList.appendChild(tr);
            });
        }

        // Render health data
        function renderHealthData() {
            const healthDataList = document.getElementById('healthDataList');
            healthDataList.innerHTML = '';
            
            if (healthData.length === 0) {
                healthDataList.innerHTML = '<tr><td colspan="8" style="text-align: center;">No health data available</td></tr>';
                return;
            }
            
            // Show latest 10 entries
            const recentHealthData = healthData.slice(-10).reverse();
            
            recentHealthData.forEach(data => {
                const patient = patients.find(p => p.id === data.patientId);
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${formatDate(data.date)}</td>
                    <td>${patient ? patient.name : 'Unknown'}</td>
                    <td>${data.bloodPressure || '-'}</td>
                    <td>${data.heartRate || '-'}</td>
                    <td>${data.temperature ? data.temperature + '°F' : '-'}</td>
                    <td>${data.oxygenSaturation ? data.oxygenSaturation + '%' : '-'}</td>
                    <td>${data.glucose || '-'}</td>
                    <td>
                        <button class="btn btn-sm btn-primary" onclick="viewHealthData('${data.id}')">View</button>
                    </td>
                `;
                healthDataList.appendChild(tr);
            });
        }

        // Render medications
        function renderMedications() {
            const medicationList = document.getElementById('medicationList');
            medicationList.innerHTML = '';
            
            const activeMeds = medications.filter(med => med.status === 'active');
            
            if (activeMeds.length === 0) {
                medicationList.innerHTML = '<tr><td colspan="8" style="text-align: center;">No active medications</td></tr>';
                return;
            }
            
            activeMeds.forEach(med => {
                const patient = patients.find(p => p.id === med.patientId);
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${patient ? patient.name : 'Unknown'}</td>
                    <td>${med.medicationName}</td>
                    <td>${med.dosage}</td>
                    <td>${med.frequency}</td>
                    <td>${formatDate(med.startDate)}</td>
                    <td>${med.endDate ? formatDate(med.endDate) : 'Ongoing'}</td>
                    <td><span class="badge badge-success">Active</span></td>
                    <td>
                        <button class="btn btn-sm btn-primary" onclick="viewMedication('${med.id}')">View</button>
                        <button class="btn btn-sm btn-danger" onclick="completeMedication('${med.id}')">Complete</button>
                    </td>
                `;
                medicationList.appendChild(tr);
            });
        }

        // Render treatment history
        function renderTreatmentHistory() {
            const treatmentHistoryList = document.getElementById('treatmentHistoryList');
            treatmentHistoryList.innerHTML = '';
            
            if (treatments.length === 0) {
                treatmentHistoryList.innerHTML = '<tr><td colspan="7" style="text-align: center;">No treatment history available</td></tr>';
                return;
            }
            
            treatments.forEach(treatment => {
                const patient = patients.find(p => p.id === treatment.patientId);
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${patient ? patient.name : 'Unknown'}</td>
                    <td>${treatment.name}</td>
                    <td>${formatDate(treatment.startDate)}</td>
                    <td>${treatment.endDate ? formatDate(treatment.endDate) : 'Ongoing'}</td>
                    <td>${treatment.doctor || 'Dr. Ranjeet'}</td>
                    <td><span class="badge ${treatment.status === 'completed' ? 'badge-success' : 'badge-warning'}">${treatment.status}</span></td>
                    <td>
                        <button class="btn btn-sm btn-primary" onclick="viewTreatment('${treatment.id}')">View</button>
                    </td>
                `;
                treatmentHistoryList.appendChild(tr);
            });
        }

        // Render recent activities
        function renderRecentActivities() {
            const recentActivities = document.getElementById('recentActivities');
            recentActivities.innerHTML = '';
            
            // Create sample activities (in a real app, these would come from actual data)
            const activities = [
                { patient: 'Rajesh Kumar', activity: 'Cardiology Consultation', time: '10:30 AM', status: 'Completed' },
                { patient: 'Sunita Patel', activity: 'Blood Test', time: '11:15 AM', status: 'In Progress' },
                { patient: 'Amit Sharma', activity: 'Physiotherapy Session', time: '9:45 AM', status: 'Completed' },
                { patient: 'Priya Singh', activity: 'Medication Prescription', time: 'Yesterday', status: 'Completed' },
                { patient: 'Vikram Mehta', activity: 'Orthopedic Surgery', time: 'Tomorrow', status: 'Scheduled' }
            ];
            
            activities.forEach(activity => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${activity.patient}</td>
                    <td>${activity.activity}</td>
                    <td>${activity.time}</td>
                    <td><span class="badge ${activity.status === 'Completed' ? 'badge-success' : activity.status === 'In Progress' ? 'badge-warning' : 'badge-primary'}">${activity.status}</span></td>
                `;
                recentActivities.appendChild(tr);
            });
        }

        // Initialize charts
        function initCharts() {
            // Health Metrics Chart
            const healthMetricsCtx = document.getElementById('healthMetricsChart').getContext('2d');
            const healthMetricsChart = new Chart(healthMetricsCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Blood Sugar (mg/dL)',
                        data: [110, 115, 105, 120, 118, 112],
                        borderColor: '#4e73df',
                        tension: 0.3,
                        fill: false
                    }, {
                        label: 'Cholesterol (mg/dL)',
                        data: [180, 175, 170, 185, 182, 178],
                        borderColor: '#1cc88a',
                        tension: 0.3,
                        fill: false
                    }, {
                        label: 'Heart Rate (bpm)',
                        data: [75, 72, 78, 74, 76, 73],
                        borderColor: '#36b9cc',
                        tension: 0.3,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    }
                }
            });

            // Patient Distribution Chart
            const patientDistributionCtx = document.getElementById('patientDistributionChart').getContext('2d');
            const patientDistributionChart = new Chart(patientDistributionCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Cardiology', 'Orthopedics', 'Neurology', 'Pediatrics', 'General'],
                    datasets: [{
                        data: [30, 25, 15, 20, 10],
                        backgroundColor: ['#4e73df', '#1cc88a', '#36b9cc', '#f6c23e', '#e74a3b'],
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        }
                    }
                }
            });
        }

        // Format date
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }

        // Mark patient as treated
        function markAsTreated(patientId) {
            if (confirm('Mark this patient as treated?')) {
                const patient = patients.find(p => p.id === patientId);
                if (patient) {
                    patient.status = 'treated';
                    patient.dischargeDate = new Date().toISOString();
                    saveData();
                    updateDashboard();
                    renderOngoingPatients();
                    renderTreatedPatients();
                    alert('Patient marked as treated successfully!');
                }
            }
        }

        // Complete medication
        function completeMedication(medicationId) {
            if (confirm('Mark this medication as completed?')) {
                const medication = medications.find(m => m.id === medicationId);
                if (medication) {
                    medication.status = 'completed';
                    medication.endDate = new Date().toISOString();
                    saveData();
                    updateDashboard();
                    renderMedications();
                    alert('Medication marked as completed successfully!');
                }
            }
        }

        // View patient details
        function viewPatient(patientId) {
            const patient = patients.find(p => p.id === patientId);
            if (patient) {
                const modalBody = document.querySelector('.modal-body');
                modalBody.innerHTML = `
                    <h4>${patient.name}</h4>
                    <p><strong>Age:</strong> ${patient.age} years</p>
                    <p><strong>Gender:</strong> ${patient.gender}</p>
                    <p><strong>Phone:</strong> ${patient.phone}</p>
                    <p><strong>Email:</strong> ${patient.email || 'N/A'}</p>
                    <p><strong>Address:</strong> ${patient.address || 'N/A'}</p>
                    <p><strong>Blood Group:</strong> ${patient.bloodGroup || 'N/A'}</p>
                    <p><strong>Emergency Contact:</strong> ${patient.emergencyContact || 'N/A'}</p>
                    <p><strong>Medical History:</strong> ${patient.medicalHistory || 'N/A'}</p>
                    <p><strong>Allergies:</strong> ${patient.allergies || 'N/A'}</p>
                    <p><strong>Status:</strong> ${patient.status}</p>
                    <p><strong>Admission Date:</strong> ${formatDate(patient.admissionDate)}</p>
                    ${patient.dischargeDate ? `<p><strong>Discharge Date:</strong> ${formatDate(patient.dischargeDate)}</p>` : ''}
                `;
                patientModal.classList.add('active');
            }
        }

        // View health data
        function viewHealthData(healthDataId) {
            const data = healthData.find(h => h.id === healthDataId);
            if (data) {
                const patient = patients.find(p => p.id === data.patientId);
                const modalBody = document.querySelector('.modal-body');
                modalBody.innerHTML = `
                    <h4>Health Data for ${patient ? patient.name : 'Unknown Patient'}</h4>
                    <p><strong>Date:</strong> ${formatDate(data.date)}</p>
                    <p><strong>Weight:</strong> ${data.weight || 'N/A'} kg</p>
                    <p><strong>Height:</strong> ${data.height || 'N/A'} cm</p>
                    <p><strong>Blood Pressure:</strong> ${data.bloodPressure || 'N/A'}</p>
                    <p><strong>Heart Rate:</strong> ${data.heartRate || 'N/A'} bpm</p>
                    <p><strong>Temperature:</strong> ${data.temperature || 'N/A'} °F</p>
                    <p><strong>Oxygen Saturation:</strong> ${data.oxygenSaturation || 'N/A'} %</p>
                    <p><strong>Glucose Level:</strong> ${data.glucose || 'N/A'} mg/dL</p>
                    <p><strong>Notes:</strong> ${data.notes || 'N/A'}</p>
                `;
                patientModal.classList.add('active');
            }
        }

        // View medication
        function viewMedication(medicationId) {
            const medication = medications.find(m => m.id === medicationId);
            if (medication) {
                const patient = patients.find(p => p.id === medication.patientId);
                const modalBody = document.querySelector('.modal-body');
                modalBody.innerHTML = `
                    <h4>Medication Details</h4>
                    <p><strong>Patient:</strong> ${patient ? patient.name : 'Unknown'}</p>
                    <p><strong>Medication:</strong> ${medication.medicationName}</p>
                    <p><strong>Dosage:</strong> ${medication.dosage}</p>
                    <p><strong>Frequency:</strong> ${medication.frequency}</p>
                    <p><strong>Start Date:</strong> ${formatDate(medication.startDate)}</p>
                    <p><strong>End Date:</strong> ${medication.endDate ? formatDate(medication.endDate) : 'Ongoing'}</p>
                    <p><strong>Instructions:</strong> ${medication.instructions || 'N/A'}</p>
                    <p><strong>Status:</strong> ${medication.status}</p>
                `;
                patientModal.classList.add('active');
            }
        }

        // View treatment
        function viewTreatment(treatmentId) {
            const treatment = treatments.find(t => t.id === treatmentId);
            if (treatment) {
                const patient = patients.find(p => p.id === treatment.patientId);
                const modalBody = document.querySelector('.modal-body');
                modalBody.innerHTML = `
                    <h4>Treatment Details</h4>
                    <p><strong>Patient:</strong> ${patient ? patient.name : 'Unknown'}</p>
                    <p><strong>Treatment:</strong> ${treatment.name}</p>
                    <p><strong>Description:</strong> ${treatment.description || 'N/A'}</p>
                    <p><strong>Start Date:</strong> ${formatDate(treatment.startDate)}</p>
                    <p><strong>End Date:</strong> ${treatment.endDate ? formatDate(treatment.endDate) : 'Ongoing'}</p>
                    <p><strong>Doctor:</strong> ${treatment.doctor || 'Dr. Ranjeet'}</p>
                    <p><strong>Status:</strong> ${treatment.status}</p>
                    <p><strong>Results:</strong> ${treatment.results || 'N/A'}</p>
                `;
                patientModal.classList.add('active');
            }
        }

        // Initialize the application when the DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>

</html>